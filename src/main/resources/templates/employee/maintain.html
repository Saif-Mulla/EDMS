<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8"/>
  <title>Maintain Employees</title>
  <style>
    body { font-family: sans-serif; margin: 1.5rem; }
    table { border-collapse: collapse; width: 100%; }
    th, td { padding: .5rem; border-bottom: 1px solid #ddd; text-align: left; }
    .actions form { display: inline; margin: 0 .25rem; }
    .topbar { margin-bottom: 1rem; }
    .btn { padding: .4rem .6rem; border: 1px solid #888; background: #f5f5f5; cursor: pointer; }
  </style>
</head>
<body>

<div class="topbar">
  <a class="btn" th:href="@{/api/employee/new}">+ Create Employee</a>
</div>

<table>
  <thead>
  <tr>
    <th>Emp ID</th>
    <th>Full Name</th>
    <th>Designation</th>
    <th>Department</th>
    <th>Primary Address</th>
    <th>Postal Code</th>
    <th>Actions</th>
  </tr>
  </thead>
  <tbody>
  <tr th:each="e : ${employees}">
    <td th:text="${e.employeeId}">emp01</td>
    <td th:text="${e.fullName}">John Smith</td>
    <td th:text="${e.designation}">Engineer</td>
    <td th:text="${e.department}">IT</td>
    <td th:text="${e.primaryAddress != null ? e.primaryAddress.address1 + ' ' + (e.primaryAddress.address2 != null ? e.primaryAddress.address2 : '') : ''}">Address</td>
    <td th:text="${e.primaryAddress != null ? e.primaryAddress.postalCode : ''}">00000</td>
    <td class="actions">
      <a class="btn" th:href="@{|/api/employee/${e.employeeId}/edit|}">Edit</a>
      <form th:action="@{|/api/employee/${e.employeeId}/delete|}" method="post"
            th:onsubmit="return confirm('Delete employee ${e.employeeId}?');">
        <button class="btn" type="submit">Delete</button>
      </form>
    </td>
  </tr>
  </tbody>
</table>

</body>
</html>
